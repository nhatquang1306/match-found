(()=>{var e={7221:(e,t,n)=>{"use strict";n(6992),n(8674),n(9601),n(7727);var a=n(144),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],o=n(1001),i={},u=(0,o.Z)(i,s,r,!1,null,null,null);const c=u.exports;n(5212),n(1539);var m=n(8345),l=function(){var e=this,t=e._self._c;return t("main",{staticClass:"home"},[t("navbar"),t("div",{staticClass:"main-page"},[t("carousel"),e._m(0),e._m(1),t("div",{staticClass:"featuredCards"},e._l(e.featuredTournaments,(function(e){return t("card",{key:e.tournament_id,attrs:{tournament:e}})})),1),t("side-bar")],1)],1)},d=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"descriptionArea"},[t("h1",[e._v("Featured Games")]),t("p",{staticClass:"description"},[e._v("Take a moment to check out these featured games and discover the exciting tournaments happening right now. Whether you're a seasoned gamer or just getting started, these tournaments offer a chance to showcase your skills and join in on the fun. Get ready to engage in thrilling matches and compete against fellow gamers from around the world. Don't miss out on this opportunity to showcase your talents and make your mark in the gaming world!")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"heading"},[t("h1",[e._v(" Featured Tournaments")])])}],v=(n(7327),n(8309),n(6699),n(2023),n(9669)),p=n.n(v);const h={getAll:function(){return p().get("/tournaments/")},get:function(e){return p().get("/tournaments/".concat(e))},getByTeamId:function(e){return p().get("/tournaments/team/".concat(e))},getByGame:function(e){return p().get("/tournaments/".concat(e))},getOpen:function(){return p().get("/tournaments/status/open")},getUpcoming:function(){return p().get("/tournaments/status/upcoming")},getInProgress:function(){return p().get("/tournaments/status/active")},getFinished:function(){return p().get("/tournaments/status/finished")},create:function(e){return p().post("/tournaments/create",e)},generateBracket:function(e){return p().post("/tournaments/".concat(e,"/bracket"))},update:function(e){return p().put("/tournaments/".concat(e,"/update"))},cancel:function(e){return p().put("/tournaments/".concat(e,"/cancel"))},start:function(e){return p().put("/tournaments/".concat(e,"/start"))},getFeatured:function(e){return p().get("/tournaments/featured/".concat(e))},resetTournament:function(e){return p().put("/tournaments/".concat(e,"/reset"))}};var f=function(){var e=this,t=e._self._c;return t("header",[t("nav",{staticClass:"container"},[t("ul",[t("li",[t("router-link",{attrs:{to:"/"}},[t("img",{staticClass:"navbar-logo",attrs:{src:n(6607),alt:"Logo"}})])],1),t("li",[t("a",{attrs:{href:""}},[t("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")])],1)]),t("li",[t("a",{attrs:{href:""}},[t("router-link",{attrs:{to:{name:"browse"}}},[e._v("Browse")])],1)]),0!=e.$store.state.teamId&&null!=e.$store.state.teamId?t("li",[t("router-link",{attrs:{to:"/team"}},[e._v("Team")])],1):e._e(),"ROLE_ORGANIZER"==e.$store.state.user.authorities[0].name?t("li",[t("router-link",{attrs:{to:"/create-tournament"}},[e._v("Create Tournament")])],1):e._e()]),t("div",{attrs:{id:"grow"}}),t("ul",[t("li",{staticClass:"welcome-message"},[e._v("Welcome, "+e._s(e.username))]),t("li",{attrs:{id:"logout"}},[t("a",{on:{click:e.logout}},[e._v("Logout")])])])]),t("div",{staticClass:"mobile-container"},[t("div",{staticClass:"welcome-message-2 box"},[e._v("Welcome, "+e._s(e.username))]),t("router-link",{attrs:{to:"/"}},[t("img",{staticClass:"navbar-logo-2 box",attrs:{src:n(6607),alt:"Logo"}})]),t("div",{staticClass:"box",attrs:{id:"hamburger-icon"},on:{click:function(t){return e.toggleMobileMenu(t)}}},[t("div",{staticClass:"bar1"}),t("div",{staticClass:"bar2"}),t("div",{staticClass:"bar3"}),t("ul",{staticClass:"mobile-menu",attrs:{id:"mobileMenu"}},[t("li",[t("a",{attrs:{href:""}},[t("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")])],1)]),t("li",[t("a",{attrs:{href:""}},[t("router-link",{attrs:{to:{name:"browse"}}},[e._v("Browse")])],1)]),t("li",[t("a",{attrs:{href:""}},[t("router-link",{attrs:{to:{name:"invites"}}},[e._v("Invites")])],1)]),0!=e.$store.state.teamId&&null!=e.$store.state.teamId?t("li",[t("router-link",{attrs:{to:"/team"}},[e._v("Team")])],1):e._e(),"ROLE_ORGANIZER"==e.$store.state.user.authorities[0].name?t("li",[t("router-link",{attrs:{to:"/create-tournament"}},[e._v("Create Tournament")])],1):e._e(),t("li",{attrs:{id:"logout"}},[t("a",{on:{click:e.logout}},[e._v("Logout")])])])])],1)])},g=[];n(7658);const _={getUser:function(e){return p().get("/user/".concat(e))},getTeamMembers:function(e){return p().get("/users/".concat(e))},leaveTeam:function(e,t){return p().put("/user/leave/".concat(t),e)}},b={data:function(){return{username:this.$store.state.user.username}},methods:{logout:function(){this.$router.push("/logout")},toggleMobileMenu:function(e){e.currentTarget.classList.toggle("open")}},created:function(){var e=this;_.getUser(this.$store.state.user.id).then((function(t){e.$store.commit("IMPORT_TEAM_ID",t.data.team_id)}))}},T=b;var w=(0,o.Z)(T,f,g,!1,null,"4a074a29",null);const k=w.exports;n(2526),n(1817);var C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"thumbnail"},[t("router-link",{attrs:{to:{name:"tournament",params:{tournamentId:e.tournament.tournament_id}}}},[t("img",{attrs:{src:n(990)("./"+e.thumbnails[e.tournament.game]),alt:"Tournament Thumbnail"}})])],1),t("div",{staticClass:"paddedBottom"},[t("div",{staticClass:"details"},[t("h2",{staticClass:"tournament-name"},[e._v(e._s(e.tournament.tournament_name))]),t("p",{staticClass:"tournament-time"},[e._v(e._s(e.time))]),t("p",{staticClass:"tournament-description"},[e._v(e._s(e.tournament.description))])]),t("div",{staticClass:"buttons"},[t("button",{staticClass:"status-button"},[e._v(e._s(e.tournament.status))]),t("button",{staticClass:"format-button"},[e._v(e._s(e.tournament.format))]),t("button",{staticClass:"location-button"},[e._v(e._s(e.tournament.location))])])])])},y=[];n(2564),n(3710);const M={props:{tournament:{type:Object,required:!0}},data:function(){return{thumbnails:{Smite:"SmiteThumbnail.png","Dota 2":"DOTAThumbnail.png","League of Legends":"LeagueOfLegendsThumbnail.png","Overwatch 2":"OverwatchThumbnail.png",Valorant:"ValorantThumbnail.png"},showForm:!1,time:""}},mounted:function(){var e=this;setTimeout((function(){var t=new Date(e.tournament.date_and_time);e.time=t.toLocaleString()}),300)},watch:{tournament:{immediate:!0,handler:function(e){var t=new Date(e.date_and_time);this.time=t.toLocaleString()}}}},L=M;var x=(0,o.Z)(L,C,y,!1,null,"464af634",null);const I=x.exports;var R=function(){var e=this,t=e._self._c;return t("main",{staticClass:"side-bar"},[t("div",{staticClass:"team-invites"},[t("h2",{staticClass:"header"},[e._v(e._s(e.invites.length)+" Pending Invite"+e._s(e.invites.length>1?"s":""))]),e.message.length>0?t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.message))]):e._e(),e.invites.length>0?t("button",{on:{click:function(t){return e.declineAll()}}},[e._v("Decline All")]):e._e(),e.isLoaded?t("div",e._l(e.invites,(function(n){return t("div",{key:n.teamRequestId,staticClass:"card"},[t("h3",[e._v("Tournament: "+e._s(n.tournamentName))]),e.isLoaded?t("h5",[e._v("Team: "+e._s(n.team))]):e._e(),e.isLoaded?t("p",[e._v("Owner: "+e._s(n.owner))]):e._e(),t("div",{staticClass:"buttons"},[t("button",{on:{click:function(t){return e.acceptJoinTeam(n.teamRequestId)}}},[e._v("Accept")]),t("button",{on:{click:function(t){return e.declineJoinTeam(n.teamRequestId)}}},[e._v("Decline")])])])})),0):e._e()]),t("div")])},N=[];n(9554),n(4747),n(2222);const $={createTeam:function(e,t,n){return p().post("tournaments/".concat(e,"/addTeam?openToPublic=").concat(n),t)},getAllTeams:function(e){return p().get("tournaments/".concat(e,"/allTeams"))},findTeamsByName:function(e,t){return p().get("tournaments/".concat(e,"/filter"),t)},getTeamById:function(e){return p().get("/teams/".concat(e))},removeMember:function(e,t){return p()["delete"]("/teams/".concat(e,"/members/").concat(t))},editTeam:function(e){return p().put("/teams/editTeam",e)},searchTeams:function(e){return p().get("/tournaments/".concat(e,"/filterOpen?searchTerm="))},removeTeam:function(e,t){return p().put("teams/".concat(t,"/remove"),e)},assignCaptain:function(e,t){return p().put("teams/".concat(e,"/assign?username=").concat(t))}},E={getTeamInvites:function(){return p().get("/requests/")},acceptJoinTeam:function(e){return p().post("/requests/".concat(e,"/accept"))},declineJoinTeam:function(e){return p().post("/requests/".concat(e,"/decline"))},declineAll:function(e){return p().put("/requests/".concat(e,"/decline-all"))},invite:function(e,t){return p().post("/requests?senderId=".concat(e,"&receiverUsername=").concat(t))},getJoinRequests:function(){return p().get("/requests/join-requests")},acceptJoinRequest:function(e){return p().put("/join-requests/".concat(e,"/accept"))},declineJoinRequest:function(e){return p().put("/join-requests/".concat(e,"/decline"))},requestToJoin:function(e){return p().post("/teams/".concat(e,"/join-request"))}},q={name:"side-bar",data:function(){return{invites:[],tournamentResponses:0,ownerResponses:0,teamResponses:0,message:""}},created:function(){var e=this;E.getTeamInvites().then((function(t){e.invites=t.data,e.invites.forEach((function(t){h.getByTeamId(t.teamId).then((function(n){t.tournamentName=n.data.tournament_name,e.tournamentResponses++})),_.getUser(t.senderId).then((function(n){t.owner=n.data.username,e.ownerResponses++})),$.getTeamById(t.teamId).then((function(n){t.team=n.data.teamName,e.teamResponses++}))}))}))},computed:{isLoaded:function(){return this.tournamentResponses==this.invites.length&&this.ownerResponses==this.invites.length&&this.teamResponses==this.invites.length}},methods:{declineAll:function(){var e=this;E.declineAll(this.$store.state.user.id).then((function(t){200!=t.status&&201!=t.status||(e.invites=[],e.tournamentResponses=0,e.ownerResponses=0,e.teamResponses=0)}))},removeMessage:function(){this.message="",document.removeEventListener("click",this.removeMessage)},acceptJoinTeam:function(e){var t=this;if(0!=this.$store.state.teamId&&null!=this.$store.state.teamId)return document.removeEventListener("click",this.removeMessage),this.message="You're already in a team. Please leave before accepting a request.",void setTimeout((function(){document.addEventListener("click",t.removeMessage)}),300);E.acceptJoinTeam(e).then((function(e){200!=e.status&&201!=e.status||(alert("You have accepted the request."),t.$router.push({name:"team"}))}))},declineJoinTeam:function(e){var t=this;E.declineJoinTeam(e).then((function(n){200!=n.status&&201!=n.status||(t.invites=t.invites.filter((function(t){return t.teamRequestId!=e})),t.tournamentResponses--,t.ownerResponses--,t.teamResponses--)}))}}},A=q;var S=(0,o.Z)(A,R,N,!1,null,"476a641c",null);const O=S.exports;var P=function(){var e=this,t=e._self._c;return t("div",[t("carousel-3d",{attrs:{autoplay:!0,"autoplay-timeout":3e3}},e._l(e.games,(function(n,a){return t("slide",{key:a,class:e.slide,attrs:{index:a}},[t("img",{attrs:{src:n.thumbnail,alt:"Game Thumbnail"},on:{click:function(t){return e.goToBrowse(n,a)}}}),t("div",{staticClass:"descriptionArea"},[t("h1",[e._v(e._s(n.name))])])])})),1)],1)},B=[],j=n(5685);const D={components:{Carousel3d:j.Carousel3d,Slide:j.Slide},data:function(){return{currentSlideIndex:0,games:[{name:"Overwatch 2",thumbnail:n(9110),description:"Description of Overwatch 2"},{name:"League of Legends",thumbnail:n(4433),description:"Description of League of Legends"},{name:"Dota 2",thumbnail:n(3332),description:"Description of Dota 2"},{name:"Valorant",thumbnail:n(2290),description:"Description of Valorant"},{name:"Smite",thumbnail:n(9929),description:"Description of Smite"}]}},methods:{goToBrowse:function(e,t){this.currentSlideIndex==t&&(this.$store.commit("SET_GAME",e.name),this.$router.push({name:"browse"})),this.currentSlideIndex=t}}},z=D;var J=(0,o.Z)(z,P,B,!1,null,null,null);const U=J.exports,Z={components:{Navbar:k,Card:I,SideBar:O,carousel:U},name:"home",data:function(){return{searchbar:"",featuredTournaments:[]}},created:function(){var e=this;h.getFeatured(4).then((function(t){e.featuredTournaments=t.data}))},computed:{filteredTournaments:function(){if(""===this.searchbar)return this.$store.state.tournament;var e=this.searchbar.toLowerCase();return this.$store.state.tournament.filter((function(t){var n=t.name.toLowerCase();return n.includes(e)}))},filteredTeams:function(){var e=this.$store.state.teams;if(""===this.searchbar)return e.filter((function(e){return e.isOpenToMembers}));var t=this.searchbar.toLowerCase();return e.filter((function(e){var n=e.name.toLowerCase();return e.isOpenToMembers&&n.includes(t)}))}}},G=Z;var F=(0,o.Z)(G,l,d,!1,null,"d5b050b8",null);const H=F.exports;var Y=function(){var e=this,t=e._self._c;return t("main",[t("div",{attrs:{id:"login"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("img",{attrs:{src:n(6607),id:"logo"}}),e.invalidCredentials?t("div",{staticClass:"alert",attrs:{role:"alert"}},[e._v(" Invalid username or password. ")]):e._e(),this.$route.query.registration?t("div",{attrs:{role:"alert"}},[e._v(" Thank you for registering, please sign in. ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Sign in")]),t("p",[e._v(" Need an account? "),t("router-link",{attrs:{to:{name:"register"}}},[e._v("Sign Up")])],1)])])])},V=[];const W={login:function(e){return p().post("/login",e)},register:function(e){return p().post("/register",e)}},K={name:"login",components:{},data:function(){return{user:{username:"",password:""},invalidCredentials:!1}},methods:{login:function(){var e=this;W.login(this.user).then((function(t){200==t.status&&(e.$store.commit("SET_AUTH_TOKEN",t.data.token),e.$store.commit("SET_USER",t.data.user),e.$router.push("/"))}))["catch"]((function(t){var n=t.response;401===n.status&&(e.invalidCredentials=!0)}))}}},Q=K;var X=(0,o.Z)(Q,Y,V,!1,null,"dbf28ef4",null);const ee=X.exports;var te=function(){var e=this,t=e._self._c;return t("h1",[e._v("Logout")])},ne=[];const ae={created:function(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},se=ae;var re=(0,o.Z)(se,te,ne,!1,null,null,null);const oe=re.exports;n(9753),n(7042);var ie=function(){var e=this,t=e._self._c;return t("main",[t("div",{staticClass:"text-center",attrs:{id:"register"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("h1",[e._v("Create Account")]),t("p",[e._v(" Already have an account? "),t("router-link",{attrs:{to:{name:"login"}}},[e._v("Log in.")])],1),e.registrationErrors?t("div",{staticClass:"error",attrs:{role:"alert"}},[e._v(" "+e._s(e.registrationErrorMsg)+" ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"confirmPassword"}},[e._v("Confirm Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{type:"password",id:"confirmPassword",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("div",{staticClass:"checkbox-container"},[t("label",{attrs:{for:"isHost"}},[e._v("Are you a tournament host?")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.isHost,expression:"user.isHost"}],attrs:{type:"checkbox",id:"isHost"},domProps:{checked:Array.isArray(e.user.isHost)?e._i(e.user.isHost,null)>-1:e.user.isHost},on:{change:function(t){var n=e.user.isHost,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);a.checked?o<0&&e.$set(e.user,"isHost",n.concat([r])):o>-1&&e.$set(e.user,"isHost",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.user,"isHost",s)}}})])]),e.user.isHost?t("div",[t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"organizationName"}},[e._v("Organization Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.organizationName,expression:"user.organizationName"}],attrs:{type:"text",id:"organizationName",required:""},domProps:{value:e.user.organizationName},on:{input:function(t){t.target.composing||e.$set(e.user,"organizationName",t.target.value)}}})])]):e._e(),t("button",{attrs:{type:"submit"}},[e._v("Create Account")])])])])},ue=[];const ce={name:"register",data:function(){return{user:{username:"",password:"",confirmPassword:"",isHost:!1,organizationName:"",role:"user"},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register:function(){var e=this;this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Passwords do not match."):(this.user.isHost?this.user.role="organizer":this.user.role="user",W.register(this.user).then((function(t){201==t.status&&e.$router.push({path:"/login",query:{registration:"success"}})}))["catch"]((function(t){var n=t.response;e.registrationErrors=!0,400===n.status&&(e.registrationErrorMsg="Bad Request: Validation Errors")})))},clearErrors:function(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},me=ce;var le=(0,o.Z)(me,ie,ue,!1,null,"af410994",null);const de=le.exports;n(8862);var ve=n(629);a.ZP.use(ve.ZP);var pe=localStorage.getItem("token"),he=JSON.parse(localStorage.getItem("user"));null!=pe&&(p().defaults.headers.common.Authorization="Bearer ".concat(pe));const fe=new ve.ZP.Store({state:{token:pe||"",user:he||{},teamId:"",tournaments:[],game:""},mutations:{SET_GAME:function(e,t){e.game=t},IMPORT_TEAM_ID:function(e,t){e.teamId=t},IMPORT_TOURNAMENTS:function(e,t){e.tournaments=t},SET_AUTH_TOKEN:function(e,t){e.token=t,localStorage.setItem("token",t),p().defaults.headers.common.Authorization="Bearer ".concat(t)},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},LOGOUT:function(e){localStorage.removeItem("token"),localStorage.removeItem("user"),e.token="",e.user={},p().defaults.headers.common={}}}});n(1249);var ge=function(){var e=this,t=e._self._c;return t("main",[t("div",{staticClass:"home"},[t("navbar"),t("div",{staticClass:"browse-page"},[t("div",{staticClass:"searchArea"},[t("label",{attrs:{for:"search"}},[e._v("Search")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchbar,expression:"searchbar"}],attrs:{type:"text",id:"search"},domProps:{value:e.searchbar},on:{input:function(t){t.target.composing||(e.searchbar=t.target.value)}}}),t("label",{attrs:{for:"game"}},[e._v("Select Game:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGame,expression:"selectedGame"}],attrs:{id:"game"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGame=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:""}},[e._v("All Games")]),e._l(e.games,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v(e._s(n))])}))],2),t("button",{on:{click:function(t){e.selectedStatus=""}}},[e._v("View All")]),t("button",{on:{click:function(t){e.selectedStatus="open"}}},[e._v("Open")]),t("button",{on:{click:function(t){e.selectedStatus="upcoming"}}},[e._v("Upcoming")]),t("button",{on:{click:function(t){e.selectedStatus="inprogress"}}},[e._v("In Progress")]),t("button",{on:{click:function(t){e.selectedStatus="finished"}}},[e._v("Finished")])]),t("div",{staticClass:"searchResults"},e._l(e.filteredTournaments,(function(e){return t("card",{key:e.tournament_id,attrs:{tournament:e}})})),1),t("div",{staticClass:"sidebar"},[t("side-bar")],1)])],1)])},_e=[];const be={components:{Card:I,Navbar:k,SideBar:O},name:"home",data:function(){return{searchbar:"",selectedGame:"",games:["League of Legends","Overwatch 2","Valorant","Smite","Dota 2"],selectedStatus:""}},created:function(){this.importTournaments(),this.selectedGame=this.$store.state.game,this.$store.commit("SET_GAME","")},computed:{filteredTournaments:function(){var e=this,t=this.$store.state.tournaments;return""!==this.selectedGame&&(t=t.filter((function(t){return t.game===e.selectedGame}))),""!==this.searchbar&&(t=t.filter((function(t){return t.tournament_name.toLowerCase().includes(e.searchbar.toLowerCase())}))),"inprogress"===this.selectedStatus?t=t.filter((function(e){return"Active"===e.status})):"finished"===this.selectedStatus?t=t.filter((function(e){return"Finished"===e.status})):"open"===this.selectedStatus?t=t.filter((function(e){return"Open"===e.status})):"upcoming"===this.selectedStatus&&(t=t.filter((function(e){return"Upcoming"===e.status}))),t}},methods:{importTournaments:function(){var e=this;h.getAll().then((function(t){e.$store.commit("IMPORT_TOURNAMENTS",t.data)}))}}},Te=be;var we=(0,o.Z)(Te,ge,_e,!1,null,"0a6870a1",null);const ke=we.exports;var Ce=function(){var e=this,t=e._self._c;return t("main",[t("navbar"),t("create-tournament",{staticClass:"create-tournament"})],1)},ye=[],Me=function(){var e=this,t=e._self._c;return t("form",{staticClass:"create-tournament",on:{submit:function(t){return t.preventDefault(),e.createTournament.apply(null,arguments)}}},[t("h1",[e._v("Create New Tournament")]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"tournament-name"}},[e._v("Tournament Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.tournament_name,expression:"tournament.tournament_name"}],attrs:{id:"tournament-name",type:"text",placeholder:"Tournament Name"},domProps:{value:e.tournament.tournament_name},on:{input:function(t){t.target.composing||e.$set(e.tournament,"tournament_name",t.target.value)}}})]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"game-name"}},[e._v("Game Name")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.tournament.game,expression:"tournament.game"}],attrs:{id:"game-name"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.tournament,"game",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:""}},[e._v("Select a game")]),t("option",{attrs:{value:"League of Legends"}},[e._v("League of Legends")]),t("option",{attrs:{value:"Dota 2"}},[e._v("Dota 2")]),t("option",{attrs:{value:"Overwatch 2"}},[e._v("Overwatch 2")]),t("option",{attrs:{value:"Smite"}},[e._v("Smite")]),t("option",{attrs:{value:"Valorant"}},[e._v("Valorant")])])]),t("label",{attrs:{for:"match-format"}},[e._v("Match Format")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.tournament.format,expression:"tournament.format"}],attrs:{id:"match-format"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.tournament,"format",t.target.multiple?n:n[0])}}},[t("option",{attrs:{value:""}},[e._v("Select a match format")]),t("option",{attrs:{value:"Best of 3"}},[e._v("Best of 3")]),t("option",{attrs:{value:"Best of 5"}},[e._v("Best of 5")]),t("option",{attrs:{value:"Best of 7"}},[e._v("Best of 7")]),t("option",{attrs:{value:"Best of 9"}},[e._v("Best of 9")])]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"entry-fee"}},[e._v("Entry Fee")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.entry_fee,expression:"tournament.entry_fee"}],attrs:{type:"text",name:"entry_fee",id:"entry-fee",placeholder:"Entry Fee"},domProps:{value:e.tournament.entry_fee},on:{input:function(t){t.target.composing||e.$set(e.tournament,"entry_fee",t.target.value)}}})]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"prize"}},[e._v("Prize Amount")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.prize,expression:"tournament.prize"}],attrs:{type:"text",id:"prize",placeholder:"Prize Amount"},domProps:{value:e.tournament.prize},on:{input:function(t){t.target.composing||e.$set(e.tournament,"prize",t.target.value)}}})]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"date_time"}},[e._v("Date and Time")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.date_and_time,expression:"tournament.date_and_time"}],attrs:{type:"datetime-local",id:"date_time",placeholder:"Date and Time"},domProps:{value:e.tournament.date_and_time},on:{input:function(t){t.target.composing||e.$set(e.tournament,"date_and_time",t.target.value)}}})]),t("div",[t("div",{staticClass:"input-field"},[t("label",{directives:[{name:"show",rawName:"v-show",value:!e.online,expression:"!online"}],attrs:{for:"location"}},[e._v("Location")]),t("input",{directives:[{name:"show",rawName:"v-show",value:!e.online,expression:"!online"},{name:"model",rawName:"v-model",value:e.tournament.location,expression:"tournament.location"}],attrs:{type:"text",id:"location",placeholder:"Location"},domProps:{value:e.tournament.location},on:{input:function(t){t.target.composing||e.$set(e.tournament,"location",t.target.value)}}})]),t("div",{staticClass:"checkbox"},[t("input",{attrs:{type:"checkbox",id:"checkbox"},on:{change:function(t){e.online=!e.online}}}),t("label",{attrs:{for:"checkbox"}},[e._v("Online only")])])]),t("div",{staticClass:"input-field"},[t("label",{attrs:{for:"description"}},[e._v("Description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tournament.description,expression:"tournament.description"}],attrs:{id:"description",placeholder:"Description",rows:"5",cols:"50"},domProps:{value:e.tournament.description},on:{input:function(t){t.target.composing||e.$set(e.tournament,"description",t.target.value)}}})]),e.message.length>0?t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.message))]):e._e(),t("input",{staticClass:"submit",attrs:{type:"submit",value:"Submit"}})])},Le=[];n(4678),n(3112),n(6647),n(9714);const xe={name:"create-tournament",data:function(){return{tournament:{tournament_name:"",date_and_time:"",description:"",format:"",entry_fee:"",game:"",location:"",prize:"",tournament_owner:this.$store.state.user.username},message:"",online:!1}},methods:{removeMessage:function(){this.message="",document.removeEventListener("click",this.removeMessage)},createTournament:function(){var e=this;if(document.removeEventListener("click",this.removeMessage),""==this.tournament.tournament_name||""==this.tournament.date_and_time||""==this.tournament.description||""==this.tournament.entry_fee||""==this.tournament.game||""==this.tournament.prize||""==this.tournament.format||""==this.tournament.location&&!this.online)return this.message="Please fill out all fields.",void setTimeout((function(){document.addEventListener("click",e.removeMessage)}),300);if(isNaN(this.tournament.entry_fee)||parseFloat(this.tournament.entry_fee)<0||isNaN(this.tournament.prize)||parseFloat(this.tournament.prize)<0)return this.message="Entry fee and prize need to be non-negative numbers.",void setTimeout((function(){document.addEventListener("click",e.removeMessage)}),300);this.online&&(this.tournament.location="Online");var t=new Date,n=-t.getTimezoneOffset();this.tournament.date_and_time=this.tournament.date_and_time+(n<0?"-":"+")+Math.floor(Math.abs(n)/60).toString().padStart(2,"0")+":"+(Math.abs(n)%60).toString().padStart(2,"0"),h.create(this.tournament).then((function(t){200!=t.status&&201!=t.status||(alert("Tournament created."),e.$router.push({name:"tournament",params:{tournamentId:t.data.tournament_id}}))}))}}},Ie=xe;var Re=(0,o.Z)(Ie,Me,Le,!1,null,"cd6a9d3c",null);const Ne=Re.exports,$e={name:"create-tournament-view",components:{Navbar:k,CreateTournament:Ne},data:function(){return{tournament:{tournament_name:"",date_and_time:"",description:"",entry_fee:"",game:"",location:"",prize:"",tournament_owner:this.$store.state.user.username},online:!1}}},Ee=$e;var qe=(0,o.Z)(Ee,Ce,ye,!1,null,"2aabf482",null);const Ae=qe.exports;var Se=function(){var e=this,t=e._self._c;return t("main",{staticClass:"team"},[t("Navbar"),t("div",{staticClass:"team-layout",class:{"member-layout":e.team.createdBy!==e.$store.state.user.username||0==e.tournament.tournament_id||"Active"==e.tournament.status||"Finished"==e.tournament.status}},[t("div",{staticClass:"header"},[e.editing?t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.team.teamName,expression:"team.teamName"}],attrs:{type:"text"},domProps:{value:e.team.teamName},on:{input:function(t){t.target.composing||e.$set(e.team,"teamName",t.target.value)}}})]):t("h2",[e._v(e._s(e.team.teamName))]),e.team.createdBy===e.$store.state.user.username?t("div",{staticClass:"buttons"},[e.editing?t("button",{on:{click:function(t){return e.saveTeamName()}}},[e._v("Save")]):t("button",{on:{click:function(t){e.editing=!e.editing}}},[e._v("Edit")])]):e._e()]),t("div",{staticClass:"members"},[t("table",[e._m(0),t("tr",[t("td",[e._v("Owner")]),t("td",[e._v(e._s(e.owner.username))]),t("td",{staticClass:"button-cell"},[e.team.createdBy===e.$store.state.user.username?t("button",{on:{click:function(t){return e.captainLeave()}}},[e._v("Leave")]):e._e()])]),e._l(e.members,(function(n){return t("tr",{key:n.id},[t("td",[e._v("Member")]),t("td",[e._v(e._s(n.username))]),t("td",{staticClass:"button-cell"},[e.team.createdBy===e.$store.state.user.username?t("button",{staticStyle:{"margin-right":"5px"},on:{click:function(t){return e.removeMember(n)}}},[e._v("Remove")]):e._e(),e.team.createdBy===e.$store.state.user.username?t("button",{on:{click:function(t){return e.assignCaptain(n)}}},[e._v("Assign Captain")]):e._e(),n.username===e.$store.state.user.username?t("button",{on:{click:function(t){return e.leave()}}},[e._v("Leave")]):e._e()])])}))],2),e.removeMessage.length>0?t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px","margin-top":"10px"}},[e._v(e._s(e.removeMessage))]):e._e()]),e.team.createdBy!==e.$store.state.user.username||0==e.tournament.tournament_id||"Open"!=e.tournament.status&&"Upcoming"!=e.tournament.status?e._e():t("div",{staticClass:"requests"},[t("h4",[e._v("Team Requests")]),e.joinRequests.length>=1?t("table",[e._m(1),e._l(e.joinRequests,(function(n){return t("tr",{key:n.teamRequestId},[e.isLoaded?t("td",[e._v(e._s(n.username))]):e._e(),t("td",{staticClass:"button-cell"},[t("button",{staticStyle:{"margin-right":"20px"},on:{click:function(t){return e.acceptJoinRequest(n)}}},[e._v("Accept")]),t("button",{on:{click:function(t){return e.declineJoinRequest(n.teamRequestId)}}},[e._v("Decline")])])])}))],2):t("p",[e._v("No requests to display at the moment.")]),e.acceptMessage.length>0?t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px","margin-top":"10px"}},[e._v(e._s(e.acceptMessage))]):e._e()]),e.team.createdBy!==e.$store.state.user.username||0==e.tournament.tournament_id||"Open"!=e.tournament.status&&"Upcoming"!=e.tournament.status?e._e():t("div",{staticClass:"invite"},[t("h4",[e._v("Invite Member")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.invited,expression:"invited"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.invited},on:{input:function(t){t.target.composing||(e.invited=t.target.value)}}}),e.inviteMessage.length>0?t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.inviteMessage))]):e._e(),t("button",{on:{click:e.invite}},[e._v("Invite")])]),0!=e.tournament.tournament_id?t("card",{staticClass:"card",attrs:{tournament:e.tournament}}):t("p",{staticClass:"card"},[e._v("This team has been removed from the tournament, please consider joining or creating another team.")])],1)],1)},Oe=[function(){var e=this,t=e._self._c;return t("tr",[t("th",[e._v("Role")]),t("th",[e._v("Username")]),t("th",[e._v("Action")])])},function(){var e=this,t=e._self._c;return t("tr",[t("th",[e._v("Username")]),t("th",[e._v("Action")])])}];n(9826);const Pe={name:"team",components:{Navbar:k,Card:I},data:function(){return{teamId:0,team:{},tournament:{},members:[],owner:{},invited:"",editing:!1,joinRequests:[],requestCounts:0,removeMessage:"",acceptMessage:"",inviteMessage:""}},created:function(){this["import"]()},computed:{isLoaded:function(){return this.requestCounts==this.joinRequests.length}},methods:{import:function(){var e=this;_.getUser(this.$store.state.user.id).then((function(t){e.teamId=t.data.team_id,e.$store.commit("IMPORT_TEAM_ID",e.teamId),$.getTeamById(e.teamId).then((function(t){e.team=t.data,e.$store.state.user.username==e.team.createdBy&&E.getJoinRequests().then((function(t){e.joinRequests=t.data,e.joinRequests.forEach((function(t){_.getUser(t.senderId).then((function(n){t.username=n.data.username,e.requestCounts++}))}))})),_.getTeamMembers(e.teamId).then((function(t){e.members=t.data.filter((function(t){return e.team.createdBy!==t.username})),e.owner=t.data.find((function(t){return e.team.createdBy===t.username}))}))})),h.getByTeamId(e.teamId).then((function(t){e.tournament=t.data}))}))},assignCaptain:function(e){var t=this;$.assignCaptain(this.teamId,e.username).then((function(e){200!=e.status&&201!=e.status||t["import"]()}))},removeInviteMessage:function(){this.inviteMessage="",document.removeEventListener("click",this.removeInviteMessage)},removeRemoveMessage:function(){this.removeMessage="",document.removeEventListener("click",this.removeRemoveMessage)},removeAcceptMessage:function(){this.acceptMessage="",document.removeEventListener("click",this.removeAcceptMessage)},captainLeave:function(){var e=this;0==this.members.length?this.leave():(document.removeEventListener("click",this.removeRemoveMessage),this.removeMessage="Please assign another member to be the owner or remove all members before leaving the team.",setTimeout((function(){document.addEventListener("click",e.removeRemoveMessage)}),300))},invite:function(){var e=this;document.removeEventListener("click",this.removeInviteMessage);var t=!1;this.$store.state.user.username==this.invited?(this.inviteMessage="Please don't invite yourself.",this.invited="",t=!0):this.tournament.tournament_owner==this.invited?(this.inviteMessage="You can't invite the tournament host.",this.invited="",t=!0):this.members.filter((function(t){return t.username==e.invited})).length>=1?(this.inviteMessage="This user is already on your team.",this.invited="",t=!0):this.joinRequests.filter((function(t){return t.username==e.invited})).length>=1&&(this.inviteMessage="This user already requested to join your team.",this.invited="",t=!0),t||E.invite(this.$store.state.user.id,this.invited).then((function(t){200!==t.status&&201!==t.status||(e.inviteMessage="You have invited ".concat(e.invited,"."),e.invited="")}))["catch"]((function(t){e.inviteMessage=t.response.data.message,e.invited=""})),setTimeout((function(){document.addEventListener("click",e.removeInviteMessage)}),300)},acceptJoinRequest:function(e){var t=this;E.acceptJoinRequest(e.teamRequestId).then((function(n){200!=n.status&&201!=n.status||(document.removeEventListener("click",t.removeAcceptMessage),t.acceptMessage="You have accepted the join request.",t.members.push({id:e.senderId,username:e.username}),t.joinRequests=t.joinRequests.filter((function(t){return t.teamRequestId!=e.teamRequestId})),t.requestCounts--,setTimeout((function(){document.addEventListener("click",t.removeAcceptMessage)}),300))}))},declineJoinRequest:function(e){var t=this;E.declineJoinRequest(e).then((function(n){200!=n.status&&201!=n.status||(document.removeEventListener("click",t.removeAcceptMessage),t.acceptMessage="You have declined the join request.",t.joinRequests=t.joinRequests.filter((function(t){return t.teamRequestId!=e})),t.requestCounts--,setTimeout((function(){document.addEventListener("click",t.removeAcceptMessage)}),300))}))},removeMember:function(e){var t=this;$.removeMember(this.teamId,e.id).then((function(n){200===n.status&&(t.removeMessage="You have removed ".concat(e.username," from your team."),t.members=t.members.filter((function(t){return t.username!==e.username})))}))},leave:function(){var e=this;if("Active"==this.tournament.status)return document.removeEventListener("click",this.removeRemoveMessage),this.removeMessage="You can't leave your team during an active tournament.",void setTimeout((function(){document.addEventListener("click",e.removeRemoveMessage)}),300);_.leaveTeam(this.team,this.tournament.status).then((function(t){200!=t.status&&201!=t.status||alert("You have left your team."),e.$router.push({name:"home"})}))},saveTeamName:function(){var e=this;$.editTeam({teamId:this.teamId,teamName:this.team.teamName}).then((function(t){200===t.status&&(e.editing=!1)}))}}},Be=Pe;var je=(0,o.Z)(Be,Se,Oe,!1,null,"7a646c24",null);const De=je.exports;var ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("navbar"),t("div",{staticClass:"content"},[t("tournament-bracket",{staticClass:"parent-bracket",attrs:{tournament:e.tournament}}),t("card",{attrs:{tournament:e.tournament}})],1)],1)},Je=[],Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"buttons"},[e.$store.state.user.username!=e.tournament.tournament_owner&&"Open"==e.tournament.status?t("div",[t("a",{staticClass:"button",on:{click:function(t){return e.createTeam()}}},[e._v("Create Team")]),e.popup?t("create-team",{attrs:{tournament:e.tournament,teamList:e.teamList},on:{"close-popup":function(t){e.popup=!1}}}):e._e()],1):e._e(),e.$store.state.user.username==e.tournament.tournament_owner?t("div",{staticClass:"button"},[t("a",{on:{click:function(t){return e.generateBracket()}}},[e._v("Generate Bracket")])]):e._e(),e.matches["round1"].length>0&&"Upcoming"==e.tournament.status&&e.$store.state.user.username==e.tournament.tournament_owner?t("div",{staticClass:"button"},[t("a",{on:{click:function(t){return e.startTournament()}}},[e._v("Start Tournament")])]):e._e(),e.$store.state.user.username!=e.tournament.tournament_owner||"Active"!=e.tournament.status&&"Finished"!=e.tournament.status?e._e():t("div",{staticClass:"button"},[t("a",{on:{click:function(t){return e.resetTournament()}}},[e._v("Restart Tournament")])])]),""!=e.bracketMessage?t("div",{staticStyle:{"margin-top":"10px",color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.bracketMessage))]):e._e(),"Finished"==e.tournament.status?t("div",{staticClass:"top3"},[t("div",{staticClass:"medal"},[t("img",{attrs:{src:n(5515),alt:"first-place-medal.png"}}),t("p",[e._v(e._s(e.first))])]),t("div",{staticClass:"medal"},[t("img",{attrs:{src:n(9501),alt:"second-place-medal.png"}}),t("p",[e._v(e._s(e.second))])]),t("div",{staticClass:"medal"},[t("img",{attrs:{src:n(2824),alt:"third-place-medal.png"}}),t("p",[e._v(e._s(e.third))])])]):e._e(),e.matches["round1"].length>0?t("div",{staticClass:"bracket",class:{rematch:e.matches["round0"].length>0}},[e._l(e.matches,(function(n,a){return t("div",{key:a,staticClass:"round",class:a},e._l(n,(function(n){return t("div",{key:n.match_id,staticClass:"match"},[e.loading?e._e():t("div",{staticClass:"team",class:{winner1:n.winner_id==n.first_team_id&&0!=n.winner_id,loser1:n.winner_id==n.second_team_id&&0!=n.winner_id}},[t("p",[e._v(e._s(0==e.teams[n.first_team_id]?"":e.teams[n.first_team_id]))]),t("div",{staticClass:"score"},[e.$store.state.user.username==e.tournament.tournament_owner&&0==n.winner_id&&e.currentRound==n.round?t("button",{staticClass:"add",on:{click:function(t){return e.progress(n,n.first_team_id)}}},[e._v(" +")]):e._e(),t("p",[e._v(e._s(n.first_score))])])]),e.loading?e._e():t("div",{staticClass:"team",class:{winner2:n.winner_id==n.second_team_id&&0!=n.winner_id,loser2:n.winner_id==n.first_team_id&&0!=n.winner_id}},[t("p",[e._v(e._s(0==e.teams[n.second_team_id]?"":e.teams[n.second_team_id]))]),t("div",{staticClass:"score"},[e.$store.state.user.username==e.tournament.tournament_owner&&0==n.winner_id&&e.currentRound==n.round?t("button",{staticClass:"add",on:{click:function(t){return e.progress(n,n.second_team_id)}}},[e._v(" +")]):e._e(),t("p",[e._v(e._s(n.second_score))])])]),4!=n.round&&0!=n.round?t("div",{staticClass:"line"}):e._e(),4!=n.round&&0!=n.round?t("div",{staticClass:"line-2"}):e._e(),4==n.round&&e.matches["round0"].length>0?t("div",{staticClass:"final-line"}):e._e()])})),0)})),e._m(0),e._m(1)],2):t("div",{staticClass:"teams"},[e.teamList.length>0?t("table",[e._m(2),e._l(e.teamList,(function(n){return t("tr",{key:n.team_id},[t("td",[e._v(e._s(n.teamName))]),t("td",[e._v(e._s(n.createdBy))]),t("td",{staticClass:"button-cell"},[n.openToPublic&&e.$store.state.user.username!=e.tournament.tournament_owner?t("button",{on:{click:function(t){return e.requestToJoin(n)}}},[e._v("Join")]):e.$store.state.user.username!=e.tournament.tournament_owner?t("p",[e._v("Private Team")]):e._e(),e.$store.state.user.username==e.tournament.tournament_owner?t("button",{on:{click:function(t){return e.removeTeam(n)}}},[e._v("Remove")]):e._e()])])}))],2):t("p",[e._v("There are no teams in this tournament right now.")]),""!=e.joinMessage?t("p",{staticStyle:{"margin-top":"10px",color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.joinMessage))]):e._e()])])},Ze=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"upper"},[t("p",[e._v("Quarterfinal")]),t("p",[e._v("Semifinal")]),t("p",[e._v("Final")]),t("p",{staticClass:"space"}),t("p",[e._v("Grand Final")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"lower"},[t("p",[e._v("Round 1")]),t("p",[e._v("Round 2")]),t("p",[e._v("Round 3")]),t("p",[e._v("Round 4")])])},function(){var e=this,t=e._self._c;return t("tr",[t("th",[e._v("Team Name")]),t("th",[e._v("Owner")]),t("th",[e._v("Action")])])}];n(7941),n(1058),n(4916),n(5306),n(8757),n(6541),n(4553);const Ge={getAllMatches:function(e){return p().get("/tournaments/".concat(e,"/matches"))},progressMatch:function(e,t){return p().put("/tournaments/".concat(e,"/match"),t)},finalMatch:function(e,t){return p().put("/tournaments/".concat(e,"/final"),t)}};var Fe=function(){var e=this,t=e._self._c;return t("form",{staticClass:"create-team",on:{submit:function(t){return t.preventDefault(),e.createTeam()}}},[t("button",{staticClass:"close",on:{click:function(t){return t.preventDefault(),e.closePopup.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-times"})]),t("div",[t("label",{attrs:{for:"name"}},[e._v("Team Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.team.teamName,expression:"team.teamName"}],attrs:{type:"text",id:"name",placeholder:"Team Name"},domProps:{value:e.team.teamName},on:{input:function(t){t.target.composing||e.$set(e.team,"teamName",t.target.value)}}})]),t("div",[t("label",{attrs:{for:"open-to-public"}},[e._v("Open to Public?")]),t("input",{attrs:{type:"checkbox",id:"open-to-public"},on:{change:function(t){e.openToPublic=!e.openToPublic}}})]),t("div",[t("p",{staticStyle:{color:"#dd6b6b","font-size":"14px"}},[e._v(e._s(e.message))])]),t("input",{attrs:{type:"submit",value:"Submit"}})])},He=[];const Ye={name:"create-team",props:{tournament:{type:Object},teamList:{type:Array}},data:function(){return{team:{teamName:""},message:"",openToPublic:!1}},methods:{removeMessage:function(){this.message="",document.removeEventListener("click",this.removeMessage)},createTeam:function(){var e=this;return document.removeEventListener("click",this.removeMessage),""===this.team.teamName?(this.message="Please input team name.",void setTimeout((function(){document.addEventListener("click",e.removeMessage)}),300)):this.teamList.filter((function(t){return t.teamName==e.team.teamName})).length>0?(this.message="There is already a team ".concat(this.team.teamName," in the tournament."),void setTimeout((function(){document.addEventListener("click",e.removeMessage)}),300)):void $.createTeam(this.tournament.tournament_id,this.team,this.openToPublic).then((function(t){200!=t.status&&201!=t.status||(alert("Team created for tournament."),e.$router.push({name:"team"}))}))["catch"]((function(t){e.message=t.response.data.message}))},closePopup:function(){this.$emit("close-popup")}}},Ve=Ye;var We=(0,o.Z)(Ve,Fe,He,!1,null,"2929c906",null);const Ke=We.exports,Qe={props:{tournament:{type:Object,required:!0}},components:{CreateTeam:Ke},data:function(){return{popup:!1,bracketMessage:"",joinMessage:"",first:null,second:null,third:null,loading:!1,currentRound:null,matches:{},teams:{},teamList:[]}},created:function(){var e=this;this.resetMatches(),$.getAllTeams(this.$route.params.tournamentId).then((function(t){e.teamList=t.data,e.teamList.forEach((function(t){return e.teams[t.teamId]=t.teamName})),e.importMatches()}))},methods:{resetMatches:function(){this.matches={round1:[],round2:[],round3:[],round4:[],round0:[],"round-1":[],"round-2":[],"round-3":[],"round-4":[]}},resetTournament:function(){var e=this;h.resetTournament(this.tournament.tournament_id).then((function(t){200!=t.status&&201!=t.status||(e.resetMatches(),e.currentRound=null,e.tournament.status="Upcoming")}))},requestToJoin:function(e){var t=this;0!=this.$store.state.teamId?(document.removeEventListener("click",this.removeJoinMessage),this.joinMessage="You are already in a team. Please leave before requesting to join another team."):E.requestToJoin(e.teamId).then((function(n){200!=n.status&&201!=n.status||(t.joinMessage="You have requested to join team ".concat(e.teamName,"."))}))["catch"]((function(e){t.joinMessage=e.response.data.message})),setTimeout((function(){document.addEventListener("click",t.removeJoinMessage)}),300)},removeTeam:function(e){var t=this;$.removeTeam(this.tournament,e.teamId).then((function(n){200!=n.status&&201!=n.status||(t.joinMessage="You have removed team ".concat(e.teamName," from the tournament."),"Upcoming"==t.tournament.status&&(t.tournament.status="Open"),t.teamList=t.teamList.filter((function(t){return t.teamId!=e.teamId})),delete t.teams[e.teamId],setTimeout((function(){document.addEventListener("click",t.removeJoinMessage)}),300))}))},getTop3:function(){var e=null;e=this.matches["round0"].length>0?this.matches["round0"][0]:this.matches["round4"][0],this.first=this.teams[e.winner_id],this.second=this.teams[e.winner_id==e.first_team_id?e.second_team_id:e.first_team_id];var t=this.matches["round-4"][0];this.third=this.teams[t.winner_id==t.first_team_id?t.second_team_id:t.first_team_id]},importMatches:function(){var e=this;Ge.getAllMatches(this.$route.params.tournamentId).then((function(t){var n=t.data;if(n.forEach((function(t){e.matches["round"+t.round].push(t)})),"Finished"==e.tournament.status&&e.getTop3(),"Active"==e.tournament.status)for(var a=[1,-1,2,-2,3,-3,-4,4,0],s=0;s<a.length;s++)if(e.matches["round"+a[s]].filter((function(e){return 0==e.winner_id})).length>0){e.currentRound=a[s];break}}))},startTournament:function(){h.start(this.$route.params.tournamentId),this.currentRound=1,this.tournament.status="Active"},removeJoinMessage:function(){this.joinMessage="",document.removeEventListener("click",this.removeJoinMessage)},removeBracketMessage:function(){this.bracketMessage="",document.removeEventListener("click",this.removeBracketMessage)},createTeam:function(){var e=this;0!=this.$store.state.teamId?(document.removeEventListener("click",this.removeBracketMessage),this.bracketMessage="You are already in a team. Please leave before creating a new team.",setTimeout((function(){document.addEventListener("click",e.removeBracketMessage)}),300)):this.popup=!this.popup},generateBracket:function(){var e=this;return Object.keys(this.teams).length<8?(document.removeEventListener("click",this.removeBracketMessage),this.bracketMessage="There are not enough teams to generate a bracket.",void setTimeout((function(){document.addEventListener("click",e.removeBracketMessage)}),300)):this.matches["round1"].length>0?(document.removeEventListener("click",this.removeBracketMessage),this.bracketMessage="You already have a bracket for this tournament.",void setTimeout((function(){document.addEventListener("click",e.removeBracketMessage)}),300)):void h.generateBracket(this.$route.params.tournamentId).then((function(t){200!=t.status&&201!=t.status||e.importMatches()}))},progress:function(e,t){var n=this,a=(parseInt(this.tournament.format.replaceAll("Best of ",""))+1)/2;if(e.first_team_id==t?e.first_score++:e.second_score++,e.first_score==a?e.winner_id=e.first_team_id:e.second_score==a&&(e.winner_id=e.second_team_id),this.matches["round"+e.round].every((function(e){return 0!=e.winner_id})))switch(this.currentRound){case 1:case 2:case 3:case-4:this.currentRound=-1*this.currentRound;break;case 4:this.currentRound=0;break;case-1:case-2:this.currentRound=-1*this.currentRound+1;break;case-3:this.currentRound=-4}4!=e.round&&0!=e.round?Ge.progressMatch(this.tournament.tournament_id,e).then((function(e){n.loading=!0;var t=e.data,a=0;0!=t.length&&t.forEach((function(e){var t=n.matches["round"+e.round].findIndex((function(t){return t.match_id==e.match_id}));n.matches["round"+e.round][t]=e,a++})),a==t.length&&(n.loading=!1)})):Ge.finalMatch(this.tournament.tournament_id,e).then((function(t){n.loading=!0;var s=t.data;s?n.matches["round0"].push(s):(e.first_score==a||e.second_score==a&&0==e.round)&&(n.tournament.status="Finished",n.getTop3()),n.loading=!1}))}}},Xe=Qe;var et=(0,o.Z)(Xe,Ue,Ze,!1,null,"4238818f",null);const tt=et.exports,nt={components:{TournamentBracket:tt,Navbar:k,Card:I},data:function(){return{tournament:{}}},created:function(){var e=this;h.get(this.$route.params.tournamentId).then((function(t){e.tournament=t.data}))}},at=nt;var st=(0,o.Z)(at,ze,Je,!1,null,"08f28264",null);const rt=st.exports;var ot=function(){var e=this,t=e._self._c;return t("main",[t("navbar"),t("side-bar")],1)},it=[];const ut={name:"side-bar-mobile",components:{Navbar:k,SideBar:O}},ct=ut;var mt=(0,o.Z)(ct,ot,it,!1,null,"c1c10582",null);const lt=mt.exports;a.ZP.use(m.ZP);var dt=new m.ZP({mode:"history",base:"/match-found/",routes:[{path:"/",name:"home",component:H,meta:{requiresAuth:!0}},{path:"/browse",name:"browse",component:ke,meta:{requiresAuth:!0}},{path:"/create-tournament",name:"create-tournament",component:Ae,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:ee,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:oe,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:de,meta:{requiresAuth:!1}},{path:"/team",name:"team",component:De,meta:{requiresAuth:!0}},{path:"/tournament/:tournamentId",name:"tournament",component:rt,meta:{requiresAuth:!1}},{path:"/invites",name:"invites",component:lt,meta:{requiresAuth:!0}}]});dt.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requiresAuth}));a&&""===fe.state.token?n("/login"):n()}));const vt=dt;a.ZP.config.productionTip=!1,p().defaults.baseURL="https://tournament-hosting-website-production.up.railway.app",new a.ZP({router:vt,store:fe,render:function(e){return e(c)}}).$mount("#app")},990:(e,t,n)=>{var a={"./1st.svg":5515,"./2nd.svg":9501,"./3rd.svg":2824,"./DOTAThumbnail.png":3332,"./LeagueOfLegendsThumbnail.png":4433,"./LoginBackgroundImage.png":6418,"./Logo.png":6607,"./OverwatchThumbnail.png":9110,"./SmiteThumbnail.png":9929,"./ValorantThumbnail.png":2290};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id=990},5515:(e,t,n)=>{"use strict";e.exports=n.p+"img/1st.a8cdb88e.svg"},9501:(e,t,n)=>{"use strict";e.exports=n.p+"img/2nd.dd7be3e4.svg"},2824:(e,t,n)=>{"use strict";e.exports=n.p+"img/3rd.61358c62.svg"},3332:(e,t,n)=>{"use strict";e.exports=n.p+"img/DOTAThumbnail.066d4be4.png"},4433:(e,t,n)=>{"use strict";e.exports=n.p+"img/LeagueOfLegendsThumbnail.5b252ba4.png"},6418:(e,t,n)=>{"use strict";e.exports=n.p+"img/LoginBackgroundImage.3ddd70de.png"},6607:(e,t,n)=>{"use strict";e.exports=n.p+"img/Logo.1f5ede51.png"},9110:(e,t,n)=>{"use strict";e.exports=n.p+"img/OverwatchThumbnail.1f090517.png"},9929:(e,t,n)=>{"use strict";e.exports=n.p+"img/SmiteThumbnail.49e518a5.png"},2290:(e,t,n)=>{"use strict";e.exports=n.p+"img/ValorantThumbnail.a079e810.png"}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,(()=>{var e=[];n.O=(t,a,s,r)=>{if(!a){var o=1/0;for(m=0;m<e.length;m++){for(var[a,s,r]=e[m],i=!0,u=0;u<a.length;u++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](a[u])))?a.splice(u--,1):(i=!1,r<o&&(o=r));if(i){e.splice(m--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[a,s,r]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.p="/match-found/"})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var s,r,[o,i,u]=a,c=0;if(o.some((t=>0!==e[t]))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var m=u(n)}for(t&&t(a);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(m)},a=self["webpackChunkfinal_vue_capstone_seed"]=self["webpackChunkfinal_vue_capstone_seed"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[998],(()=>n(7221)));a=n.O(a)})();
//# sourceMappingURL=app.131fab54.js.map